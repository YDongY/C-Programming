# 守护进程与线程

## 创建守护进程模型

1. 父进程 fork 子进程，父进程退出
2. 子进程调用 setid 函数创建一个新的会话，子进程成为会话的会长以及该进程组的组长，且不在受控制终端影响
3. 改变当前进程的工作目录，chdir【非必须】
4. 重设文件掩码，umask()【非必须】
5. 关闭 STDIN_FILENO，STDOUT_FILENO，STDERR_FILENO【非必须】
6. 核心操作